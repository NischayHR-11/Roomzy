
<% layout("layouts/boilerplate") %>

<style>

.taxinfo{
 display: none;
 color: rgb(255, 0, 0);
}

</style>

<body>
    
    <!-- <div class="taxtoggle col-3 mb-4 ms-md-auto" style="border: 1px solid rgb(0, 0, 0,.4);border-top-left-radius: 0.5rem;border-top-right-radius: .5rem;border-bottom-left-radius: .5rem;border-bottom-right-radius: .5rem;height: 3rem;display: flex;align-items: center;">

    </div> -->

    <div class="form-check form-switch ms-md-auto mb-4">
        <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckDefault" style="height: 1.2rem;width: 2.4rem;">
        <label class="form-check-label ms-3" for="flexSwitchCheckDefault">Display Prices With Tax</label>
    </div>

    <div class="row row-cols-lg-3 row-cols-md-2 row-cols-sm-1">

        <% for(let list of listings){ %>

            <a href="/listing/<%=list._id%>">

                <div class="card col" style="border: none">
                    <img src=<%= list.image.url %> class="card-img-top" alt="Hotel_Image">
                    <div class="card-img-overlay"><button class="heart" style="border: none;background-color: transparent;"><i class="fa-regular fa-heart heart-icon" style="color:white;font-size: 1.5rem;font-weight: 800;"></i></button></div>
                    <div class="card-body">
                        <p class="card-text">
                        <b>
                        <%= list.title %>
                        <br>
                        &#8377;<%= list.price.toLocaleString("en-IN") %>

                        <i class="taxinfo">&nbsp;&nbsp; +18% GST</i> 
                        </b>

                        </p>
                    </div>
                </div>
            </a>
            
                
        <%}%>

    </div>

    <script>

        let taxswitch= document.getElementById("flexSwitchCheckDefault");

         taxswitch.addEventListener("click",()=>{

            let taxinfo= document.getElementsByClassName("taxinfo");

            for(let info of taxinfo){

                if(info.style.display !="inline"){
                    info.style.display = "inline";
                }else{
                    info.style.display = "none";
                }
            }
        });

        let hearts = document.querySelectorAll(".heart");

        hearts.forEach((heart) => {
            heart.addEventListener("click", function (event) {

                event.stopPropagation();
                event.preventDefault();
                let heartIcon = this.querySelector(".heart-icon");

                // Toggle color between red and white
                if (heartIcon.style.color === "white") {
                    heartIcon.style.color = "rgb(255, 0, 0,.8)";
                } else {
                    heartIcon.style.color = "white";
                }
            });
        });

    </script>
       

    
</body>

